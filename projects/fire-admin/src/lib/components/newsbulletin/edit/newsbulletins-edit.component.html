<fa-layout>
  <!-- Page Header -->
  <div class="page-header row no-gutters py-4">
    <div class="col-12 text-center text-sm-left mb-0">
      <span class="text-uppercase page-subtitle">{{ 'News Bulletin' | translate }}</span>
      <h3 class="page-title">{{ 'Edit News Bulletin' | translate }}</h3>
    </div>
  </div>
  <!-- End Page Header -->
  <div class="row">
    <div class="col-lg-9 col-md-12">
      <!-- Edit News Bulletin Form -->
      <div class="card card-small mb-3">
        <div class="card-body">
          <form class="add-new-post">
            <input class="form-control form-control-lg mb-3" type="text" placeholder="{{ 'News Bulletin Title' | translate }}" [(ngModel)]="title" name="title" (input)="onTitleInput()">
            <div id="editor-container" class="add-new-post__editor mb-1"></div>
          </form>
        </div>
      </div>
      <!-- / Edit News Bulletin Form -->
    </div>
    <div class="col-lg-3 col-md-12">
      <!-- News Bulletin Overview -->
      <div class="card card-small mb-3">
        <div class="card-header border-bottom">
          <h6 class="m-0">{{ 'Actions' | translate }}</h6>
        </div>
        <div class="card-body p-0">
          <ul class="list-group list-group-flush">
            <li class="list-group-item p-3">
              <span class="d-flex mb-2">
                <i class="material-icons mr-1 mt-1">flag</i><span class="mr-1 mt-1">{{ 'Status' | translate }}:</span>
                <select class="custom-select col-md-7 ml-auto" [(ngModel)]="status" name="status">
                  <option *ngFor="let status of allStatus | keyvalue" [value]="status.key">{{ status.value | translate }}</option>
                </select>
              </span>
              <span class="d-flex mb-2">
                <i class="material-icons mr-1 mt-1">calendar_today</i><span class="mr-1 mt-1">{{ 'Date' | translate }}:</span>
                <input type="date" class="form-control col-md-8 ml-auto" [(ngModel)]="key_date" name="date">
              </span>
            </li>
            <li class="list-group-item d-flex px-3 pt-0">
              <button class="btn btn-sm btn-white" [disabled]="isSubmitButtonsDisabled" [routerLink]="navigation.getRouterLink('newsbulletins', 'list')">
                {{ 'Cancel' | translate }}
              </button>
              <button class="btn btn-sm btn-accent ml-auto" [disabled]="isSubmitButtonsDisabled || !title?.length || !key_date?.length || isImageEmpty" (click)="savePost($event)" #saveButton>
                <i class="material-icons">save</i> {{ 'Save' | translate }} <i *ngIf="saveButton.isLoading" class="fas fa-circle-notch fa-spin ml-1"></i>
              </button>
            </li>
          </ul>
        </div>
      </div>
      <!-- / Post Overview -->
      <!-- Post Overview -->
      <div class="card card-small mb-3">
        <div class="card-header border-bottom cursor-pointer" (click)="imageCardHeader.isToggled = !imageCardHeader.isToggled" #imageCardHeader>
          <h6 class="m-0">{{ 'PostImage' | translate }}</h6>
          <div class="block-handle"></div>
        </div>
        <div class="card-body p-0" [class.d-none]="!imageCardHeader.isToggled">
          <span class="d-flex">
            <div class="edit-user-details__avatar rounded-0" (click)="postImage.click()">
              <img [src]="imageSrc | escapeUrl" alt="Post image">
              <label class="edit-user-details__avatar__change rounded-0">
                <i class="material-icons mr-1">add_a_photo</i>
                <input type="file" accept="image/*" class="d-none" (change)="onImageChange($event)" #postImage>
              </label>
            </div>
          </span>
        </div>
      </div>
      <!-- / Post Overview -->
    </div>
  </div>
</fa-layout>
